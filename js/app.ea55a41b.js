(function(){"use strict";var e={4054:function(){},8014:function(e,t,i){var a=i(6369),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"app"}},[t("app-header"),t("app-main")],1)},s=[],r=i(9203),o=function(){var e=this,t=e._self._c;return t("header",[t("b-container",{staticClass:"p-2"},[t("b-row",[t("b-col",[t("app-logo")],1),t("b-col")],1)],1)],1)},c=[],l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"logo"},[t("b-icon-flower3",{staticClass:"logo__icon"}),t("div",{staticClass:"logo__text"},[e._v("Logo")])],1)},u=[],d=i(4054),m=i.n(d),p=m(),f=i(1001),v=(0,f.Z)(p,l,u,!1,null,"bc14f718",null),_=v.exports,h={components:{AppLogo:_}},g=h,y=(0,f.Z)(g,o,c,!1,null,"1410d80d",null),b=y.exports,x=function(){var e=this,t=e._self._c;return t("main",[t("b-container",{staticClass:"main-container py-2"},[t("b-row",[t("b-col",{attrs:{sm:"4"}},[t("categories-list",{attrs:{items:e.categories}})],1),t("b-col",[t("trees-list")],1)],1)],1)],1)},I=[],C=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"categories-list"},[t("div",{staticClass:"categories-list__search"},[t("b-form-input",{staticClass:"mb-2",attrs:{debounce:150,placeholder:"Поиск..."},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("b-list-group",{staticClass:"categories-list__list"},e._l(e.filteredItems,(function(e){return t("b-list-group-item",{key:e.id},[t("category-item",{attrs:{item:e}})],1)})),1)],1)},T=[],M=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"category-item",class:{active:e.isActive}},[t("div",{on:{click:e.toggleActive}},[t("expandable-title",{staticClass:"category-item__header",attrs:{expanded:e.isActive},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticStyle:{"margin-right":"4px"}},[e.isActive?t("b-icon",{staticStyle:{color:"var(--yellow)"},attrs:{icon:"folder2-open"}}):t("b-icon",{staticStyle:{color:"var(--yellow)"},attrs:{icon:"folder2"}})],1),t("span",[e._v("Level 1: "+e._s(e.item.name))])]},proxy:!0}])})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"category-item__list"},e._l(e.item.children,(function(e){return t("subcategory-item",{key:e.id,attrs:{item:e}})})),1)])},k=[];const A=a["default"].extend({props:{item:{required:!0,type:Object}},data(){return{isActive:!1}},computed:{isFolder(){return 0!=this.item.children?.length}},methods:{toggleActive(){this.isActive=!this.isActive}}});var S=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"subcategory-item",class:{active:e.isActive}},[t("div",{on:{click:e.toggleActive}},[t("expandable-title",{staticClass:"subcategory-item__header",attrs:{expanded:e.isActive},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticStyle:{"margin-right":"4px"}},[t("b-icon",{attrs:{icon:"stack"}})],1),t("span",[e._v("Level 2: "+e._s(e.item.name))])]},proxy:!0}])})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"subcategory-item__list"},e._l(e.item.children,(function(e){return t("menu-item",{key:e.id,attrs:{item:e}})})),1)])},w=[],E=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"menu-item cursor-pointer",class:{active:e.isActiveItem},on:{click:e.onClick}},[t("span",{staticStyle:{"margin-right":"4px"}},[t("b-icon",{attrs:{icon:"file-earmark-ruled"}})],1),t("span",[e._v(e._s(e.item.name))])])},O=[],D=(0,a.defineComponent)({mixins:[A],computed:{isActiveItem(){return this.$store.state.activeMenuItemId===this.item.id}},methods:{onClick(){this.$store.dispatch("setActiveMenuItemId",this.item.id)}}}),L=D,P=(0,f.Z)(L,E,O,!1,null,"5f9866e5",null),V=P.exports,j=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-flex align-items-center cursor-pointer expandable-title"},[e._t("expand-icon",(function(){return[t("div",{staticStyle:{"margin-right":"8px"}},[e.expanded?t("b-icon",{attrs:{icon:"caret-down-fill"}}):t("b-icon",{attrs:{icon:"caret-right-fill"}})],1)]})),t("div",{staticClass:"expandable-title__title"},[e._t("title",(function(){return[e._v(e._s(e.title))]}))],2),t("div",[e._t("right")],2)],2)},Z=[],$=(0,a.defineComponent)({props:{expanded:{type:Boolean},title:{type:String}}}),N=$,R=(0,f.Z)(N,j,Z,!1,null,"55202a40",null),q=R.exports,z=(0,a.defineComponent)({components:{ExpandableTitle:q,MenuItem:V},mixins:[A]}),F=z,G=(0,f.Z)(F,S,w,!1,null,"3d61feac",null),X=G.exports,B=(0,a.defineComponent)({components:{ExpandableTitle:q,SubcategoryItem:X},mixins:[A]}),H=B,J=(0,f.Z)(H,M,k,!1,null,"132d1774",null),K=J.exports;const Q=(e,t)=>e.name.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1;var U,W=(0,a.defineComponent)({components:{CategoryItem:K},props:{items:{type:Array}},data(){return{search:""}},computed:{filteredItems(){if(!this.items)return[];function e(t,i){if(Q(t,i))return!0;if(t.children){let a=!1;return t.children.forEach((t=>{e(t,i)&&(a=!0)})),a}return!1}return this.items.filter((t=>e(t,this.search)))}}}),Y=W,ee=(0,f.Z)(Y,C,T,!1,null,"2a2d85f1",null),te=ee.exports,ie=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"trees-list"},[e.activeTreeList?[t("div",{staticClass:"trees-list__search"},[t("b-form-input",{staticClass:"mb-2",attrs:{debounce:150,placeholder:"Поиск..."},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("div",{staticClass:"trees-list__header"},[t("h4",[e._v("Title for "+e._s(e.activeTreeList.name))])]),t("div",{staticClass:"trees-list__list"},[e.filteredItems.length?e._l(e.filteredItems,(function(i,a){return t("tree-data",{key:`tree-data-${e.activeTreeList.parentId}-${a}`,attrs:{"tree-data":i}})})):t("span",[e._v("Нет данных")])],2)]:e.activeId&&!e.activeTreeList?t("div",[e._v("Нет данных")]):t("div",[e._v("Выберите категорию")])],2)},ae=[],ne=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"tree-data"},[t("div",{staticClass:"d-flex justify-content-between"},[t("expandable-title",{staticClass:"category-item__header",attrs:{expanded:e.expanded},nativeOn:{click:function(t){e.expanded=!e.expanded}},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticStyle:{"margin-right":"4px"}},[e.expanded?t("b-icon",{staticStyle:{color:"var(--yellow)"},attrs:{icon:"folder2-open"}}):t("b-icon",{staticStyle:{color:"var(--yellow)"},attrs:{icon:"folder2"}})],1),t("span",[e._v(e._s(e.treeData.name))])]},proxy:!0}])}),t("b-form-select",{staticStyle:{"max-width":"25%","font-size":"12px"},attrs:{size:"sm",value:e.treeData.status,options:e.statusOptions},on:{change:e.onStatusChanged}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}]},e._l(e.treeData.items,(function(e,i){return t("tree-item",{key:`tdi-${i}`,attrs:{item:e}})})),1)])},se=[],re=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"tree-data-item"},[t("b-row",{staticClass:"align-items-center"},[t("b-col",{attrs:{sm:"6"}},[e._v(e._s(e.item.name))]),t("b-col",{attrs:{sm:"3"}},[e.editMode?[t("b-input",{ref:"inputRef",staticStyle:{height:"32px","margin-left":"-12px"},attrs:{type:"number"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveAndExitEditMode.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggleEditMode(!1)}]},model:{value:e.editValue,callback:function(t){e.editValue=t},expression:"editValue"}})]:t("div",{staticStyle:{"line-height":"32px"},on:{click:e.toggleEditMode}},[e._v(" "+e._s(e.item.value)+" ")])],2),t("b-col",{attrs:{sm:"3"}},[e.editMode?[t("div",{staticClass:"d-flex",staticStyle:{gap:"8px"}},[t("b-icon",{staticClass:"icon-hover",attrs:{icon:"check-lg"},on:{click:e.saveAndExitEditMode}}),t("b-icon",{staticClass:"icon-hover",attrs:{icon:"x-lg"},on:{click:function(t){return e.toggleEditMode(!1)}}})],1)]:[t("b-icon",{staticClass:"icon-hover",attrs:{icon:"pencil-fill"},on:{click:e.toggleEditMode}})]],2)],1)],1)},oe=[],ce=(0,a.defineComponent)({props:{item:{required:!0,type:Object}},data(){return{editMode:!1,editValue:0}},methods:{toggleEditMode(e=!0){this.editMode=e,e&&(this.editValue=this.item?.value||0,this.$nextTick((()=>{this.$refs["inputRef"]?.$el.focus()})))},saveAndExitEditMode(){this.toggleEditMode(!1),this.$store.dispatch("setTreeItemValue",{id:this.item.id,value:this.editValue})}}}),le=ce,ue=(0,f.Z)(le,re,oe,!1,null,"cc2e23be",null),de=ue.exports;(function(e){e["ACTIVE"]="Активный",e["INACTIVE"]="Неактивный",e["EDITING"]="Редактирование"})(U||(U={}));var me=(0,a.defineComponent)({components:{ExpandableTitle:q,TreeItem:de},data(){return{expanded:!0}},props:{treeData:Object},computed:{statusOptions(){return Object.values(U)}},methods:{onStatusChanged(e){this.$store.dispatch("setTreeDataStatus",{data:this.treeData,status:e})}}}),pe=me,fe=(0,f.Z)(pe,ne,se,!1,null,"4624b518",null),ve=fe.exports,_e=(0,a.defineComponent)({components:{TreeData:ve},data(){return{search:""}},computed:{activeId(){return this.$store.state.activeMenuItemId},activeTreeList(){return this.$store.getters.activeTreeList},filteredItems(){if(!this.activeTreeList?.items)return[];function e(e,t){if(Q(e,t))return!0;if(e.items){let i=!1;return e.items?.forEach((e=>{Q(e,t)&&(i=!0)})),i}return!1}return this.activeTreeList.items.filter((t=>e(t,this.search)))}}}),he=_e,ge=(0,f.Z)(he,ie,ae,!1,null,"12f1a33b",null),ye=ge.exports,be={components:{TreesList:ye,CategoriesList:te},computed:{categories(){return this.$store.state.categories}}},xe=be,Ie=(0,f.Z)(xe,x,I,!1,null,"468477b5",null),Ce=Ie.exports,Te=function(e,t,i,a){var n,s=arguments.length,r=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(r=(s<3?n(r):s>3?n(t,i,r):n(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};let Me=class extends r.w3{};Me=Te([(0,r.wA)({components:{AppMain:Ce,AppHeader:b}})],Me);var ke=Me,Ae=ke,Se=(0,f.Z)(Ae,n,s,!1,null,null,null),we=Se.exports,Ee=i(3822);let Oe=0,De=0;const Le=(e,t,i)=>({parentId:e,name:t,items:i}),Pe=(e,t,i)=>({id:Oe++,name:e,status:t,items:i}),Ve=(e,t)=>({id:De++,name:e,value:t}),je=(e,t)=>({id:e,name:t}),Ze=()=>[{id:"c1",name:"Main Category 1",children:[{id:"c1_1",name:"Subcategory 1",children:[je("mi_1","Menu Item 1"),je("mi_2","Menu Item 2")]},{id:"c1_2",name:"Subcategory 2",children:[je("mi_3","Menu Item 3"),je("mi_4","Menu Item 4")]},{id:"c1_3",name:"Subcategory 3",children:[je("mi_5","Menu Item 5")]}]},{id:"c2",name:"Main Category 2",children:[{id:"c2_1",name:"Subcategory 1 (ssss)",children:[je("mi_6","Menu Item 6"),je("mi_7","Menu Item 7")]},{id:"c2_2",name:"Subcategory 2",children:[je("mi_8","Menu Item 8")]}]},{id:"c3",name:"Main Category 3",children:[{id:"c3_1",name:"Subcategory 1",children:[je("mi_9","Menu Item 9"),je("mi_10","Menu Item 10"),je("mi_11","Menu Item 11")]}]}],$e=()=>[Le("mi_1","Tree List 1",[Pe("Tree Data 1",U.ACTIVE,[Ve("data1",10),Ve("data2",50),Ve("data3",20)]),Pe("Tree Data 2",U.INACTIVE,[Ve("data4",10),Ve("data5",50),Ve("data6",20)]),Pe("Tree Data 3",U.ACTIVE,[Ve("data7",10),Ve("data8",50),Ve("data9",20)])]),Le("mi_2","Tree List 2",[Pe("Tree Data 1",U.ACTIVE,[Ve("data1",10),Ve("data2",50),Ve("data3",20)]),Pe("Tree Data 2",U.ACTIVE,[Ve("data4",10),Ve("data5",50),Ve("data6",20)])]),Le("mi_3","Tree List 3",[Pe("Tree Data 1",U.ACTIVE,[Ve("data1",10),Ve("data2",50),Ve("data3",20)])])];a["default"].use(Ee.ZP);var Ne=new Ee.ZP.Store({state:{categories:Ze(),treesData:$e(),activeMenuItemId:null},getters:{activeTreeList(e){return null==e.activeMenuItemId?null:e.treesData.find((t=>t.parentId===e.activeMenuItemId))},allTreeDataItems(e){return e.treesData.map((e=>e.items.map((e=>e.items)).flat())).flat()}},mutations:{setActiveMenuItemId(e,t){e.activeMenuItemId=t},setTreeItemValue(e,t){t.item.value=t.value},setTreeDataStatus(e,t){t.data.status=t.status}},actions:{setActiveMenuItemId({commit:e},t){e("setActiveMenuItemId",t)},setTreeItemValue({commit:e,getters:t},i){const a=t.allTreeDataItems.find((e=>e.id===i.id));a&&e("setTreeItemValue",{item:a,value:i.value})},setTreeDataStatus({commit:e},t){e("setTreeDataStatus",t)}},modules:{}}),Re=i(5996),qe=i(9425);a["default"].config.productionTip=!1,a["default"].use(Re.XG7),a["default"].use(qe.X),new a["default"]({store:Ne,render:e=>e(we)}).$mount("#app")}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,i),s.exports}i.m=e,function(){var e=[];i.O=function(t,a,n,s){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],s=e[u][2];for(var o=!0,c=0;c<a.length;c++)(!1&s||r>=s)&&Object.keys(i.O).every((function(e){return i.O[e](a[c])}))?a.splice(c--,1):(o=!1,s<r&&(r=s));if(o){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,n,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,r=a[0],o=a[1],c=a[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(c)var u=c(i)}for(t&&t(a);l<r.length;l++)s=r[l],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(u)},a=self["webpackChunkectem_test"]=self["webpackChunkectem_test"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(8014)}));a=i.O(a)})();
//# sourceMappingURL=app.ea55a41b.js.map